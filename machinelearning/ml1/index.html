<!DOCTYPE HTML><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.9.0"><meta charset="utf-8"><title>机器学习（一） Spark MLlib介绍 | 机器学习 and 数据科学</title><meta name="author" content="王小鹏  京ICP备19037345号-1"><meta name="description" content="机器学习 王鹏 数据科学"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta property="og:title" content="机器学习（一） Spark MLlib介绍"><meta property="og:site_name" content="机器学习 and 数据科学"><meta property="og:image" content><link href="/favicon.png" rel="icon"><link rel="alternate" href="/atom.xml" title="机器学习 and 数据科学" type="application/atom+xml"><link rel="stylesheet" href="/css/style.css" media="screen" type="text/css"><!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]--></head><body><header id="header" class="inner"><div class="alignleft"><h1><a href="/">机器学习 and 数据科学</a></h1><h2><a href="/">明天幸福今天修</a></h2></div><nav id="main-nav" class="alignright"><ul><li><a href="/">Home</a></li><li><a href="/archives">Archives</a></li></ul><div class="clearfix"></div></nav><div class="clearfix"></div></header><div id="content" class="inner"><div id="main-col" class="alignleft"><div id="wrapper"><article id="post-ml1" class="h-entry post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting"><div class="post-content"><header><div class="icon"></div><time class="dt-published" datetime="2019-08-28T06:42:05.000Z"><a href="/machinelearning/ml1/">2019-08-28</a></time><h1 class="p-name title" itemprop="headline name">机器学习（一） Spark MLlib介绍</h1></header><div class="e-content entry" itemprop="articleBody"><p>标签： machine learning</p><a id="more"></a><p><img src="/machinelearning/ml1/1.png" alt="目录"></p><h1 id="一、什么是机器学习"><a href="#一、什么是机器学习" class="headerlink" title="一、什么是机器学习"></a><strong>一、什么是机器学习</strong></h1><p>机器学习是一门多学科交叉专业，涵盖概率论知识，统计学知识，近似理论知识和复杂算法知识，使用计算机作为工具并致力于真实实时的模拟人类学习方式， 并将现有内容进行知识结构划分来有效提高学习效率。<br>机器学习有下面几种定义：</p><ul><li>机器学习是一门人工智能的科学,该领域的主要研究对象是人工智能，特别是如何在经验学习中改善具体算法的性能。</li><li>机器学习是对能通过经验自动改进的计算机算法的研究。</li><li>机器学习是用数据或以往的经验,以此优化计算机程序的性能标准。</li></ul><p>机器学习是在数据的基础上，通过算法构建出模型并对模型进行评估。评估的性能如果达到要求，就用该模型来测试其他的数据；如果达不到要求，就要调整算法来重新建立模型，再次进行评估。如此循环往复，最终获得满意的经验来处理其他的数据。机器学习技术和方法已经被成功应用到多个领域，比如个性推荐系统，金融反欺诈，语音识别，自然语言处理和机器翻译，模式识别，智能控制等。</p><h1 id="二、机器学习的发展历程"><a href="#二、机器学习的发展历程" class="headerlink" title="二、机器学习的发展历程"></a><strong>二、机器学习的发展历程</strong></h1><p>机器学习实际上已经存在了几十年或者也可以认为存在了几个世纪。追溯到17世纪，贝叶斯、拉普拉斯关于最小二乘法的推导和马尔可夫链，这些构成了机器学 习广泛使用的工具和基础。1950年(艾伦.图灵提议建立一个学习机器)到2000年初 (有深度学习的实际应用以及最近的进展，比如2012年的AlexNet)，机器学习有了很大的进展。</p><p>随着 HDFS(Hadoop Distributed File System) 等分布式文件系统出现，存储海量数据已经成为可能。在全量数据上进行机器学习也成为了可能，这顺便也解决了统计随机性的问题。然而，由于 MapReduce 自身的限制，使得使用 MapReduce 来实现分布式机器学习算法非常耗时和消耗磁盘IO。因为通常情况下机器学习算法参数学习的过程都是迭代计算的，即本次计算的结果要作为下一次迭代的输入，这个过程中，如果使用 MapReduce，我们只能把中间结果存储磁盘，然后在下一次计算的时候从新读取，这对于迭代 频发的算法显然是致命的性能瓶颈。</p><p>在大数据上进行机器学习，需要处理全量数据并进行大量的迭代计算，这要求机器学习平台具备强大的处理能力。Spark 立足于内存计算，天然的适应于迭代式计算。即便如此，对于普通开发者来说，实现一个分布式机器学习算法仍然是一件极具挑战的事情。</p><ul><li><p>幸运的是，Spark提供了一个基于海量数据的机器学习库，它提供了常用机器学习算法的分布式实现，开发者只需要有 Spark 基础并且了解机器学习算法的原理，以及方法相关参数的含义，就可以轻松的通过调用相应的 API 来实现基于海量数据的机器学习过程。</p></li><li><p>其次，Spark-Shell的即席查询也是一个关键。算法工程师可以边写代码边运行，边看结果。spark提供的各种高效的工具正使得机器学习过程更加直观便捷。比如通过sample函数，可以非常方便的进行抽样。</p></li><li><p>当然，Spark发展到后面，拥有了实时批计算，批处理，算法库，SQL、流计算等模块等，基本可以看做是全平台的系统。把机器学习作为一个模块加入到Spark中，也是大势所趋。</p></li></ul><h1 id="三、Spark-机器学习库MLLib"><a href="#三、Spark-机器学习库MLLib" class="headerlink" title="三、Spark 机器学习库MLLib"></a><strong>三、Spark 机器学习库MLLib</strong></h1><p>MLlib是Spark的机器学习（Machine Learning）库，旨在简化机器学习的工程实践工作，并方便扩展到更大规模。MLlib由一些通用的学习算法和工具组成，包括分类、回归、聚类、协同过滤、降维等，同时还包括底层的优化原语和高层的管道API。具体来说，其主要包括以下几方面的内容：</p><ul><li><p><strong>机器学习算法</strong>：常用的学习算法，如分类、回归、聚类和协同过滤；</p></li><li><p><strong>特征处理</strong>：特征提取、转化、降维，和特征选择；</p></li><li><p><strong>管道(Pipeline)</strong>：用于构建、评估和调整机器学习管道的工具;</p></li><li><p><strong>存储</strong>：保存和加载算法，模型和管道;</p></li><li><p><strong>实用工具</strong>：线性代数，统计，数据处理等工具。</p></li></ul><p>Spark 机器学习库从 1.2 版本以后被分为两个包：</p><p>spark.mllib包含基于RDD的原始算法API。Spark MLlib 历史比较长，在1.0 以前的版本即已经包含了，提供的算法实现都是基于原始的 RDD。</p><p>spark.ml 则提供了基于DataFrames 高层次的API，可以用来构建机器学习工作流（PipeLine）。ML Pipeline 弥补了原始 MLlib 库的不足，向用户提供了一个基于 DataFrame 的机器学习工作流式 API 套件。</p><p>使用 ML Pipeline API可以很方便的把数据处理，特征转换，正则化，以及多个机器学习算法联合起来，构建一个单一完整的机器学习流水线。这种方式给我们提供了更灵活的方法，更符合机器学习过程的特点，也更容易从其他语言迁移。Spark官方推荐使用spark.ml。如果新的算法能够适用于机器学习管道的概念，就应该将其放到spark.ml包中，如：特征提取器和转换器。开发者需要注意的是，从Spark2.0开始，基于RDD的API进入维护模式（即不增加任何新的特性），并预期于3.0版本的时候被移除出MLLib。</p><p>Spark在机器学习方面的发展非常快，目前已经支持了主流的统计和机器学习算法。纵观所有基于分布式架构的开源机器学习库，MLlib可以算是计算效率最高的。MLlib目前支持4种常见的机器学习问题: 分类、回归、聚类和协同过滤。</p><h2 id="spark-mllib-的数据集："><a href="#spark-mllib-的数据集：" class="headerlink" title="spark mllib 的数据集："></a><strong>spark mllib 的数据集：</strong></h2><ul><li>Local vector（向量）（稀疏/密集）</li><li>Labeled point（坐标向量）（稀疏/密集）</li><li>Local matrix（矩阵）（稀疏/密集）</li><li>Distributed matrix（矩阵）</li><li>RowMatrix（行矩阵）（向量矩阵）</li><li>IndexedRowMatrix（行坐标矩阵）（indexRow）</li><li>CoordinateMatrix（坐标矩阵）（适用于稀疏矩阵）（matrixEntry）</li><li>BlockMatrix（块矩阵）</li></ul><h2 id="spark-mllib-的算法包："><a href="#spark-mllib-的算法包：" class="headerlink" title="spark mllib 的算法包："></a><strong>spark mllib 的算法包：</strong></h2><ul><li>Basic statistics（基本统计信息）</li><li>summary statistics（摘要统计）</li><li>correlations（相关性）</li><li>stratified sampling（分层抽样）</li><li>hypothesis testing（假设）</li><li>streaming significance testing（流量统计）</li><li>random data generation（随机数据生成）</li><li>Classification and regression（分类和回归）</li><li>linear models (SVMs, logistic regression, linear regression)（线性模型（向量机、罗辑回归、线性回归））</li><li>naive Bayes（朴素贝叶斯）</li><li>decision trees（决策树）</li><li>ensembles of trees (Random Forests and Gradient-Boosted Trees)（随机森林、梯度树）</li><li>isotonic regression（保序回归）</li><li>Collaborative filtering（协同过滤）</li><li>alternating least squares (ALS)（最小二乘）</li><li>Clustering</li><li>k-means（聚类）</li><li>Gaussian mixture（高斯混合）</li><li>power iteration clustering (PIC)（迭代聚类）</li><li>latent Dirichlet allocation (LDA)（三层贝叶斯概率模型）</li><li>bisecting k-means（二分聚类）</li><li>streaming k-means（流聚类）</li><li>Dimensionality reduction（降维）</li><li>singular value decomposition (SVD)（奇异值分解）</li><li>principal component analysis (PCA)（主成分分析）</li><li>Feature extraction and transformation（特征提取和转换）</li><li>Frequent pattern mining（频繁模式挖掘）</li><li>FP-growth（关联分析算法）</li><li>association rules（关联规则）</li><li>PrefixSpan（序列模式分析算法）</li><li>Evaluation metrics（指标评测）</li><li>PMML model export（PMML模型）</li><li>Optimization (developer)（优化算法）</li><li>stochastic gradient descent（随机梯度下降法）</li><li>limited-memory BFGS (L-BFGS)（拟牛顿算法）</li></ul></div><footer><div class="categories"><a href="/categories/machinelearning/">机器学习</a></div><div class="tags"><a href="/tags/machine-learning/">machine learning</a></div><div class="addthis addthis_toolbox addthis_default_style"><a class="addthis_button_facebook_like" fb:like:layout="button_count"></a> <a class="addthis_button_tweet"></a> <a class="addthis_button_google_plusone" g:plusone:size="medium"></a> <a class="addthis_button_pinterest_pinit" pi:pinit:layout="horizontal"></a> <a class="addthis_counter addthis_pill_style"></a></div><script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js"></script><div class="clearfix"></div></footer></div></article><section id="comment"><h1 class="title">留言</h1><div id="fb-root"></div><script>!function(e,t,n){var a,c=e.getElementsByTagName(t)[0];e.getElementById(n)||((a=e.createElement(t)).id=n,a.src="//connect.facebook.net/en_US/all.js#xfbml=1&appId=123456789012345",c.parentNode.insertBefore(a,c))}(document,"script","facebook-jssdk")</script><div class="fb-comments" data-href="http://wangpengcufe.github.io/machinelearning/ml1/index.html" data-num-posts="5" data-width="840" data-colorscheme="light"></div></section></div></div><aside id="sidebar" class="alignright"><div class="search"><form action="//google.com/search" method="get" accept-charset="utf-8"><input type="search" name="q" results="0" placeholder="搜索"> <input type="hidden" name="as_sitesearch" value="wangpengcufe.github.io"></form></div><div class="widget tag"><h3 class="title">分类</h3><ul class="entry"><li><a href="/categories/machinelearning/">机器学习</a><small>7</small></li><li><a href="/categories/菜单导航/">菜单导航</a><small>1</small></li><li><a href="/categories/datadownload/">资料下载</a><small>1</small></li></ul></div><div class="widget tag"><h3 class="title">标签</h3><ul class="entry"><li><a href="/tags/library/">library</a><small>1</small></li><li><a href="/tags/machine-learning/">machine learning</a><small>7</small></li><li><a href="/tags/navigate/">navigate</a><small>1</small></li></ul></div></aside><div class="clearfix"></div></div><footer id="footer" class="inner"><div class="alignleft">&copy; 2019 王小鹏 京ICP备19037345号-1</div><div class="clearfix"></div></footer><script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script><script src="/js/jquery.imagesloaded.min.js"></script><script src="/js/gallery.js"></script><link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css"><script src="/fancybox/jquery.fancybox.pack.js"></script><script type="text/javascript">jQuery(".fancybox").fancybox()</script></body></html>